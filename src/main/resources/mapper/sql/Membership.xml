<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- 관리자 로그인  -->
<mapper namespace="membershipSql">

	<!-- 회원 목록 가져오기 -->
	<select id="selectAll" resultType="MembershipInfo">
		select	UserNo			AS intUserNo 
				,UserId			AS StrUserId
				,UserName		AS StrUserName
				,UserPhone   	AS StrUserPhone
				,UserDate  		AS DateUserDate
				,UserGrade 		AS StrUserGrade
		from   	 TUser					
	
	</select>

	<!-- 회원 정보 가져오기 -->
	<select id="selectMember" resultType="MembershipInfo">
		select	 UserId			AS StrUserid
				,UserPw 		AS StrUserPw
				,UserName		AS StrUserName
				,UserPhone 	 	AS StrUserPhone
				,UserEmail   	AS StrUserEmail
				,UserSex   		AS StrUserSex
				,UserDate  		AS DateUserDate
				,UserGrade 		AS StrUserGrade
		from   	 TUser			
		where	 UserNo = #{intUserNo} 
	
	</select>
	
	<!-- 회원 정보 업데이트 -->
	<update id="updateMember">
		update	 TUser
		set		 UserPw		= #{strUserPw}
				,UserName	= #{strUserName}
				,UserPhone	= #{strUserPhone}
				,UserEmail	= #{strUserEmail}
				,UserSex	= #{strUserSex}
				,UserGrade	= #{strUserGrade}
		where	 UserNo 	= #{intUserNo} 
	</update>

	<!-- 아이디 중복 확인 -->
	<select id="checkId" resultType="String">
		select	 UserId			
		from   	 TUser			
		where	 UserId = #{idNo} 
	
	</select>
	<!-- 회원 정보 등록 -->
	<insert id="insertMember">
	insert into TUser(UserId,UserPw,UserName,UserPhone,UserEmail,UserSex,UserGrade)
	values(#{strUserId}, #{strUserPw}, #{strUserName}, #{strUserPhone}, #{strUserEmail}, #{strUserSex}, #{strUserGrade})
	
	
	</insert>
</mapper>