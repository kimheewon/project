<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- 관리자 로그인  -->
<mapper namespace="membershipSql">

	<!-- 회원 목록 가져오기 -->
	<select id="selectAll" resultType="MembershipInfo">
        SELECT	 UserNo	        AS intUserNo      
				,UserId	        AS StrUserId      
				,UserName       AS StrUserName
				,UserPhone      AS StrUserPhone
				,UserDate       AS DateUserDate
				,UserGrade      AS StrUserGrade
		FROM   	 TUser
		ORDER BY UserNo DESC				
	
	</select>

	<!-- 회원 정보 가져오기 -->
	<select id="selectMember" resultType="MembershipInfo">
		SELECT	 UserId			AS StrUserid
				,UserPw 		AS StrUserPw
				,UserName		AS StrUserName
				,UserPhone 	 	AS StrUserPhone
				,UserEmail   	AS StrUserEmail
				,UserSex   		AS StrUserSex
				,UserDate  		AS DateUserDate
				,UserGrade 		AS StrUserGrade
		FROM   	 TUser			
		WHERE	 UserNo = #{intUserNo} 
	
	</select>
	
	<!-- 회원 정보 업데이트 -->
	<update id="updateMember">
		UPDATE	 TUser
		SET		 UserPw          = #{strUserPw}
				,UserName	     = #{strUserName}
				,UserPhone	     = #{strUserPhone}
				,UserEmail	     = #{strUserEmail}
				,UserSex	     = #{strUserSex}
				,UserGrade	     = #{strUserGrade}
		WHERE	 UserNo 	     = #{intUserNo} 
	</update>

	<!-- 아이디 중복 확인 -->
	<select id="checkId" resultType="String">
		SELECT	 UserId			
		FROM   	 TUser			
		WHERE	 UserId         = #{idNo} 
	
	</select>
	
	<!-- 회원 정보 등록 -->
	<insert id="insertMember">
	INSERT INTO TUser(UserId, UserPw, UserName, UserPhone, UserEmail
	                 ,UserSex, UserGrade)
	           VALUES(#{strUserId}, #{strUserPw}, #{strUserName}, #{strUserPhone}, #{strUserEmail},
	                  #{strUserSex}, #{strUserGrade})	
	</insert>
</mapper>